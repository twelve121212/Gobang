<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="css/wuziqi.css"/>
		<title></title>
	</head>
	<body>
		<section>
			<article>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>				
			</article>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
			<aside>
				<button type="button" id="btn1"></button>
				<button type="button" id="btn2"></button>
				<button type="button" id="btn3"></button>
				<button type="button" id="btn4"></button>
				<button type="button" id="btn5"></button>
				<button type="button" id="btn6"></button>
				<button type="button" id="btn7"></button>
				<button type="button" id="btn8"></button>
				<button type="button" id="btn9"></button>
				<button type="button" id="btn10"></button>
				<button type="button" id="btn11"></button>
				<button type="button" id="btn12"></button>
				<button type="button" id="btn13"></button>
				<button type="button" id="btn14"></button>
				<button type="button" id="btn15"></button>
			</aside>
	
			
		</section>
			
		
	</body>
	<script>
		var arr=[];
		var brr=[];
		var btns=document.querySelectorAll("button");
		for(var i=0;i<btns.length;i++){
				btns[i].id=i;				
				var j=0;
				btns[i].onclick=function(){
				if(j%2==0){					
					this.style.background="red";
					this.style.opacity=1;
					// console.log(this.id)				
					for(var m=0;m<btns.length;m++){
						if(this.style.background=='red'){
							var a=this.id;
						}						
					}
					victory(a,arr,"红方胜");					
				}
				else {					
					this.style.background="green";
					this.style.opacity=1;
					for(var m=0;m<btns.length;m++){
						if(this.style.background=='green'){
							var b=this.id;
						}						
					}
					victory(b,brr,"绿方胜");
				}
				j++;					
			}
		}
		
		
		
		// 胜利判断函数
		function victory(oid,orr,vic){
			orr.push(oid);
			// console.log(orr);
			var xrr=[];
			for(var o=0;o<orr.length;o++){
				xrr.push(orr[o]%15)
			}
			// console.log(xrr);			
			var yrr=[];
			for(var o=0;o<orr.length;o++){
				yrr.push(parseInt(orr[o]/15))
			}
			// console.log(yrr);
			if(judge(xrr,yrr)||judge(yrr,xrr)||judge1(xrr,yrr)||judge2(xrr,yrr)){
				setTimeout(function(){
					alert(vic)
				},200)
			}
		}
	
		// 直线判断函数
		function judge(t,u){
			var w=[];
			for(var p=0;p<t.length;p++){				
				var h=1;
				// console.log(t[p])		
				for(var q=0;q<t.length;q++){
					if((t[p]==t[q]-1||t[p]==t[q]-2||t[p]==t[q]+1||t[p]==t[q]+2)&&(u[p]==u[q])){
						h++;									
					}
					// console.log("h="+h);
				}
				w.push(h);
			}
			// console.log("w="+w);
			var g=Math.max(...w)
			if(g>=5){
				return 1;		
			}else{
				return 0;
			}			
		}
		
		//斜线判断函数"\"
		function judge1(t,u){
			var w=[];
			for(var p=0;p<t.length;p++){			
				var h=1;
				// console.log(t[p])	
				for(var q=0;q<t.length;q++){
					if((t[p]==t[q]-1&&u[p]==u[q]-1)||(t[p]==t[q]-2&&u[p]==u[q]-2)||(t[p]==t[q]+1&&u[p]==u[q]+1)||(t[p]==t[q]+2&&u[p]==u[q]+2)){
						h++;									
					}
					// console.log("h="+h);
				}
				w.push(h);
			}
			// console.log("w="+w);
			var g=Math.max(...w)
			if(g>=5){
				return 1;		
			}else{
				return 0;
			}		
		}
		
		//斜线判断函数"/"
		function judge2(t,u){
			var w=[];
			for(var p=0;p<t.length;p++){				
				var h=1;
				// console.log(t[p])	
				for(var q=0;q<t.length;q++){
					if((t[p]==t[q]-1&&u[p]==u[q]+1)||(t[p]==t[q]-2&&u[p]==u[q]+2)||(t[p]==t[q]+1&&u[p]==u[q]-1)||(t[p]==t[q]+2&&u[p]==u[q]-2)){
						h++;									
					}
					// console.log("h="+h);
				}
				w.push(h);
			}
			// console.log("w="+w);
			var g=Math.max(...w)
			if(g>=5){
				return 1;		
			}else{
				return 0;
			}			
		}
  

	</script>
</html>
